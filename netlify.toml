# =====================================================
# âœ… NETLIFY CONFIG â€” Mobile version (NO INDEX, NO REDIRECT)
# =====================================================

[build]
  publish = "public"
  command = "hugo --gc --minify --cleanDestinationDir"

[build.environment]
  HUGO_VERSION = "0.149.0"
  HUGO_ENV = "production"
  HUGO_ENABLEGITINFO = "true"
  TZ = "Asia/Ho_Chi_Minh"

# =====================================================
# âœ… SECURITY + PERFORMANCE HEADERS
# =====================================================
[[headers]]
  for = "/*"
  [headers.values]
    Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"
    X-Content-Type-Options = "nosniff"
    X-Frame-Options = "DENY"
    Referrer-Policy = "strict-origin-when-cross-origin"
    X-XSS-Protection = "1; mode=block"

# =====================================================
# âœ… HTTP/3 + Brotli
# =====================================================
[[headers]]
  for = "/*"
  [headers.values]
    Alt-Svc = 'h3=":443"; ma=86400'
    Accept-Encoding = "br"

# =====================================================
# âœ… CACHE RULES
# =====================================================

# HTML: khÃ´ng cache (Ä‘á»ƒ cáº­p nháº­t realtime náº¿u cáº§n chá»‰nh giao diá»‡n)
[[headers]]
  for = "/*.html"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Pragma = "no-cache"
    Expires = "0"

# CSS/JS: cache máº¡nh
[[headers]]
  for = "/css/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/js/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# HÃ¬nh áº£nh: cache cá»±c máº¡nh
[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# =====================================================
# âœ… NOINDEX HEADERS (ngÄƒn index mobile site)
# =====================================================
[[headers]]
  for = "/*"
  [headers.values]
    X-Robots-Tag = "noindex, follow"

# =====================================================
# âœ… REDIRECT RULES
# =====================================================

# ðŸš« KhÃ´ng redirect mobile â†’ desktop
# ðŸš« KhÃ´ng redirect desktop â†’ mobile
# ðŸš« KhÃ´ng redirect theo thiáº¿t bá»‹
# intentionally blank (Ä‘á»ƒ trá»‘ng)
