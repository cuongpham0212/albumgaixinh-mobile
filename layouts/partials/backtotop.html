<!-- layouts/partials/backtotop.html -->
<button id="backToTop"
  aria-label="Lên đầu trang"
  style="display: none; position: fixed; bottom: 1.25rem; right: 1.25rem; z-index: 999999; padding: 0.75rem; border-radius: 9999px;"
  class="bg-pink-600 text-white shadow-lg hover:scale-110 transition-transform">
  <i class="fas fa-arrow-up"></i>
</button>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const btn = document.getElementById('backToTop');
  if (!btn) return;

  // debug quick
  console.log('backToTop initialized');

  window.addEventListener('scroll', function () {
    if (window.scrollY > 300) {
      if (btn.style.display === 'none') btn.style.display = 'block';
    } else {
      if (btn.style.display !== 'none') btn.style.display = 'none';
    }
  });

  btn.addEventListener('click', function () {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
});
</script>

<style>
/* animation optional */
#backToTop.show {
  animation: fadeIn 0.4s ease-in-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
